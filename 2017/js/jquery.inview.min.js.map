{"version":3,"sources":["jquery.inview.js"],"names":["$","getViewportSize","mode","domObject","size","height","w","innerHeight","width","innerWidth","d","compatMode","support","boxModel","documentElement","body","clientHeight","clientWidth","getViewportOffset","top","pageYOffset","scrollTop","left","pageXOffset","scrollLeft","checkInView","elementsLength","$elements","i","each","inviewObjects","inviewObject","selector","data","$element","push","find","length","viewportSize","viewportOffset","contains","visiblePartX","visiblePartY","visiblePartsMerged","elementSize","elementOffset","offset","inView","trigger","timer","document","window","expando","event","special","inview","add","guid","this","isEmptyObject","setInterval","remove","e","clearInterval","bind","addEventListener","attachEvent","jQuery"],"mappings":"CAKA,SAAWA,GAkCT,SAASC,IACP,IAAIC,EAAMC,EAAWC,GAASC,OAAQC,EAAEC,YAAaC,MAAOF,EAAEG,YAiB9D,OAbKL,EAAKC,UACRH,EAAOQ,EAAEC,aACIX,EAAEY,QAAQC,WAIrBT,GACEC,QAJFF,EAAqB,eAATD,EACVY,EACAJ,EAAEK,MAEgBC,aAClBR,MAAQL,EAAUc,cAKjBb,EAGT,SAASc,IACP,OACEC,IAAMb,EAAEc,aAAeN,EAAgBO,WAAeX,EAAEK,KAAKM,UAC7DC,KAAMhB,EAAEiB,aAAeT,EAAgBU,YAAed,EAAEK,KAAKS,YAIjE,SAASC,IACP,IAAoBC,EAAhBC,KAAgCC,EAAI,EASxC,GAPA5B,EAAE6B,KAAKC,EAAe,SAASF,EAAGG,GAChC,IAAIC,EAAYD,EAAaE,KAAKD,SAC9BE,EAAYH,EAAaG,SAC7BP,EAAUQ,KAAKH,EAAWE,EAASE,KAAKJ,GAAYE,KAGtDR,EAAiBC,EAAUU,OAKzB,IAHAC,EAAiBA,GAAkBrC,IACnCsC,EAAiBA,GAAkBrB,IAE5BU,EAAEF,EAAgBE,IAEvB,GAAK5B,EAAEwC,SAAS1B,EAAiBa,EAAUC,GAAG,IAA9C,CAIA,IAIIa,EACAC,EACAC,EANAT,EAAgBlC,EAAE2B,EAAUC,IAC5BgB,GAAkBvC,OAAQ6B,EAAS7B,SAAUG,MAAO0B,EAAS1B,SAC7DqC,EAAgBX,EAASY,SACzBC,EAAgBb,EAASD,KAAK,UAUlC,IAAKM,IAAmBD,EACtB,OAGEO,EAAc1B,IAAMyB,EAAYvC,OAASkC,EAAepB,KACxD0B,EAAc1B,IAAMoB,EAAepB,IAAMmB,EAAajC,QACtDwC,EAAcvB,KAAOsB,EAAYpC,MAAQ+B,EAAejB,MACxDuB,EAAcvB,KAAOiB,EAAejB,KAAOgB,EAAa9B,OAO1DmC,GANAF,EAAgBF,EAAejB,KAAOuB,EAAcvB,KAClD,QAAWiB,EAAejB,KAAOgB,EAAa9B,MAAUqC,EAAcvB,KAAOsB,EAAYpC,MACzF,OAAS,QAIyB,KAHpCkC,EAAgBH,EAAepB,IAAM0B,EAAc1B,IACjD,SAAYoB,EAAepB,IAAMmB,EAAajC,OAAWwC,EAAc1B,IAAMyB,EAAYvC,OACzF,MAAQ,QAEL0C,GAAUA,IAAWJ,GACxBT,EAASD,KAAK,SAAUU,GAAoBK,QAAQ,WAAW,EAAMP,EAAcC,KAE5EK,GACTb,EAASD,KAAK,UAAU,GAAOe,QAAQ,WAAW,KAjH1D,IAAwBV,EAAcC,EACkDU,EADpFnB,KACApB,EAAIwC,SAAU5C,EAAI6C,OAAQrC,EAAkBJ,EAAEI,gBAAiBsC,EAAUpD,EAAEoD,QAE/EpD,EAAEqD,MAAMC,QAAQC,QACdC,IAAK,SAASvB,GACZH,EAAcG,EAAKwB,KAAO,IAAMC,KAAKN,KAAcnB,KAAMA,EAAMC,SAAUlC,EAAE0D,OAYtET,GAAUjD,EAAE2D,cAAc7B,KAC5BmB,EAAQW,YAAYnC,EAAa,OAItCoC,OAAQ,SAAS5B,GACf,WAAaH,EAAcG,EAAKwB,KAAO,IAAMC,KAAKN,IAAa,MAAMU,IAGjE9D,EAAE2D,cAAc7B,KACjBiC,cAAcd,GACdA,EAAQ,QA2FfjD,EAAEM,GAAG0D,KAAK,2BAA4B,WACpC1B,EAAeC,EAAiB,QAI7BzB,EAAgBmD,kBAAoBnD,EAAgBoD,aACvDpD,EAAgBoD,YAAY,YAAa,WACvC3B,EAAiB,QAGpB4B","file":"jquery.inview.min.js","sourcesContent":["/**\n * author Christopher Blum\n *    - based on the idea of Remy Sharp, http://remysharp.com/2009/01/26/element-in-view-event-plugin/\n *    - forked from http://github.com/zuk/jquery.inview/\n */\n(function ($) {\n  var inviewObjects = {}, viewportSize, viewportOffset,\n      d = document, w = window, documentElement = d.documentElement, expando = $.expando, timer;\n\n  $.event.special.inview = {\n    add: function(data) {\n      inviewObjects[data.guid + \"-\" + this[expando]] = { data: data, $element: $(this) };\n\n      // Use setInterval in order to also make sure this captures elements within\n      // \"overflow:scroll\" elements or elements that appeared in the dom tree due to\n      // dom manipulation and reflow\n      // old: $(window).scroll(checkInView);\n      //\n      // By the way, iOS (iPad, iPhone, ...) seems to not execute, or at least delays\n      // intervals while the user scrolls. Therefore the inview event might fire a bit late there\n      //\n      // Don't waste cycles with an interval until we get at least one element that\n      // has bound to the inview event.\n      if (!timer && !$.isEmptyObject(inviewObjects)) {\n         timer = setInterval(checkInView, 250);\n      }\n    },\n\n    remove: function(data) {\n      try { delete inviewObjects[data.guid + \"-\" + this[expando]]; } catch(e) {}\n\n      // Clear interval when we no longer have any elements listening\n      if ($.isEmptyObject(inviewObjects)) {\n         clearInterval(timer);\n         timer = null;\n      }\n    }\n  };\n\n  function getViewportSize() {\n    var mode, domObject, size = { height: w.innerHeight, width: w.innerWidth };\n\n    // if this is correct then return it. iPad has compat Mode, so will\n    // go into check clientHeight/clientWidth (which has the wrong value).\n    if (!size.height) {\n      mode = d.compatMode;\n      if (mode || !$.support.boxModel) { // IE, Gecko\n        domObject = mode === 'CSS1Compat' ?\n          documentElement : // Standards\n          d.body; // Quirks\n        size = {\n          height: domObject.clientHeight,\n          width:  domObject.clientWidth\n        };\n      }\n    }\n\n    return size;\n  }\n\n  function getViewportOffset() {\n    return {\n      top:  w.pageYOffset || documentElement.scrollTop   || d.body.scrollTop,\n      left: w.pageXOffset || documentElement.scrollLeft  || d.body.scrollLeft\n    };\n  }\n\n  function checkInView() {\n    var $elements = [], elementsLength, i = 0;\n\n    $.each(inviewObjects, function(i, inviewObject) {\n      var selector  = inviewObject.data.selector,\n          $element  = inviewObject.$element;\n      $elements.push(selector ? $element.find(selector) : $element);\n    });\n\n    elementsLength = $elements.length;\n    if (elementsLength) {\n      viewportSize   = viewportSize   || getViewportSize();\n      viewportOffset = viewportOffset || getViewportOffset();\n\n      for (; i<elementsLength; i++) {\n        // Ignore elements that are not in the DOM tree\n        if (!$.contains(documentElement, $elements[i][0])) {\n          continue;\n        }\n\n        var $element      = $($elements[i]),\n            elementSize   = { height: $element.height(), width: $element.width() },\n            elementOffset = $element.offset(),\n            inView        = $element.data('inview'),\n            visiblePartX,\n            visiblePartY,\n            visiblePartsMerged;\n\n        // Don't ask me why because I haven't figured out yet:\n        // viewportOffset and viewportSize are sometimes suddenly null in Firefox 5.\n        // Even though it sounds weird:\n        // It seems that the execution of this function is interferred by the onresize/onscroll event\n        // where viewportOffset and viewportSize are unset\n        if (!viewportOffset || !viewportSize) {\n          return;\n        }\n\n        if (elementOffset.top + elementSize.height > viewportOffset.top &&\n            elementOffset.top < viewportOffset.top + viewportSize.height &&\n            elementOffset.left + elementSize.width > viewportOffset.left &&\n            elementOffset.left < viewportOffset.left + viewportSize.width) {\n          visiblePartX = (viewportOffset.left > elementOffset.left ?\n            'right' : (viewportOffset.left + viewportSize.width) < (elementOffset.left + elementSize.width) ?\n            'left' : 'both');\n          visiblePartY = (viewportOffset.top > elementOffset.top ?\n            'bottom' : (viewportOffset.top + viewportSize.height) < (elementOffset.top + elementSize.height) ?\n            'top' : 'both');\n          visiblePartsMerged = visiblePartX + \"-\" + visiblePartY;\n          if (!inView || inView !== visiblePartsMerged) {\n            $element.data('inview', visiblePartsMerged).trigger('inview', [true, visiblePartX, visiblePartY]);\n          }\n        } else if (inView) {\n          $element.data('inview', false).trigger('inview', [false]);\n        }\n      }\n    }\n  }\n\n  $(w).bind(\"scroll resize scrollstop\", function() {\n    viewportSize = viewportOffset = null;\n  });\n\n  // IE < 9 scrolls to focused elements without firing the \"scroll\" event\n  if (!documentElement.addEventListener && documentElement.attachEvent) {\n    documentElement.attachEvent(\"onfocusin\", function() {\n      viewportOffset = null;\n    });\n  }\n})(jQuery);\n"]}